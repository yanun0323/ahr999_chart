"use strict";var pr=Object.defineProperty;var pn=Object.getOwnPropertyDescriptor;var dn=Object.getOwnPropertyNames;var gn=Object.prototype.hasOwnProperty;var yn=(e,r)=>{for(var t in r)pr(e,t,{get:r[t],enumerable:!0})},Nn=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of dn(r))!gn.call(e,a)&&a!==t&&pr(e,a,{get:()=>r[a],enumerable:!(n=pn(r,a))||n.enumerable});return e};var bn=e=>Nn(pr({},"__esModule",{value:!0}),e);var ss={};yn(ss,{Feature:()=>B,OpaqueReference:()=>L,Serializer:()=>Ie,SerovalConflictedNodeIdError:()=>Pr,SerovalDepthLimitError:()=>W,SerovalDeserializationError:()=>de,SerovalError:()=>ne,SerovalMalformedNodeError:()=>w,SerovalMissingInstanceError:()=>D,SerovalMissingPluginError:()=>q,SerovalMissingReferenceError:()=>Se,SerovalMissingReferenceForIdError:()=>me,SerovalMode:()=>H,SerovalParserError:()=>z,SerovalSerializationError:()=>$e,SerovalUnknownTypedArrayError:()=>ge,SerovalUnsupportedNodeError:()=>O,SerovalUnsupportedTypeError:()=>x,compileJSON:()=>os,createPlugin:()=>Kn,createReference:()=>pt,createStream:()=>G,crossSerialize:()=>Ka,crossSerializeAsync:()=>Ha,crossSerializeStream:()=>tt,deserialize:()=>rs,fromCrossJSON:()=>Xa,fromJSON:()=>as,getCrossReferenceHeader:()=>mt,resolvePlugins:()=>A,serialize:()=>Qa,serializeAsync:()=>es,toCrossJSON:()=>Ja,toCrossJSONAsync:()=>Za,toCrossJSONStream:()=>$a,toJSON:()=>ts,toJSONAsync:()=>ns});module.exports=bn(ss);var B=(i=>(i[i.AggregateError=1]="AggregateError",i[i.ArrowFunction=2]="ArrowFunction",i[i.ErrorPrototypeStack=4]="ErrorPrototypeStack",i[i.ObjectAssign=8]="ObjectAssign",i[i.BigIntTypedArray=16]="BigIntTypedArray",i[i.RegExp=32]="RegExp",i))(B||{});var v=Symbol.asyncIterator,dr=Symbol.hasInstance,R=Symbol.isConcatSpreadable,C=Symbol.iterator,gr=Symbol.match,yr=Symbol.matchAll,Nr=Symbol.replace,br=Symbol.search,vr=Symbol.species,Cr=Symbol.split,Ar=Symbol.toPrimitive,P=Symbol.toStringTag,Er=Symbol.unscopables;var ot={0:"Symbol.asyncIterator",1:"Symbol.hasInstance",2:"Symbol.isConcatSpreadable",3:"Symbol.iterator",4:"Symbol.match",5:"Symbol.matchAll",6:"Symbol.replace",7:"Symbol.search",8:"Symbol.species",9:"Symbol.split",10:"Symbol.toPrimitive",11:"Symbol.toStringTag",12:"Symbol.unscopables"},Re={[v]:0,[dr]:1,[R]:2,[C]:3,[gr]:4,[yr]:5,[Nr]:6,[br]:7,[vr]:8,[Cr]:9,[Ar]:10,[P]:11,[Er]:12},at={0:v,1:dr,2:R,3:C,4:gr,5:yr,6:Nr,7:br,8:vr,9:Cr,10:Ar,11:P,12:Er},st={2:"!0",3:"!1",1:"void 0",0:"null",4:"-0",5:"1/0",6:"-1/0",7:"0/0"},o=void 0,it={2:!0,3:!1,1:o,0:null,4:-0,5:Number.POSITIVE_INFINITY,6:Number.NEGATIVE_INFINITY,7:Number.NaN};var Pe={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},ut={0:Error,1:EvalError,2:RangeError,3:ReferenceError,4:SyntaxError,5:TypeError,6:URIError};function c(e,r,t,n,a,s,i,u,l,g,S,d){return{t:e,i:r,s:t,c:n,m:a,p:s,e:i,a:u,f:l,b:g,o:S,l:d}}function V(e){return c(2,o,e,o,o,o,o,o,o,o,o,o)}var Q=V(2),ee=V(3),xe=V(1),Oe=V(0),lt=V(4),ct=V(5),ft=V(6),St=V(7);function vn(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return o}}function y(e){let r="",t=0,n;for(let a=0,s=e.length;a<s;a++)n=vn(e[a]),n&&(r+=e.slice(t,a)+n,t=a+1);return t===0?r=e:r+=e.slice(t),r}function Cn(e){switch(e){case"\\\\":return"\\";case'\\"':return'"';case"\\n":return`
`;case"\\r":return"\r";case"\\b":return"\b";case"\\t":return"	";case"\\f":return"\f";case"\\x3C":return"<";case"\\u2028":return"\u2028";case"\\u2029":return"\u2029";default:return e}}function M(e){return e.replace(/(\\\\|\\"|\\n|\\r|\\b|\\t|\\f|\\u2028|\\u2029|\\x3C)/g,Cn)}var j="__SEROVAL_REFS__",fe="$R",Te=`self.${fe}`;function mt(e){return e==null?`${Te}=${Te}||[]`:`(${Te}=${Te}||{})["${y(e)}"]=[]`}var Ir=new Map,Y=new Map;function pt(e,r){return Ir.set(r,e),Y.set(e,r),r}function Rr(e){return Ir.has(e)}function An(e){return Y.has(e)}function dt(e){if(Rr(e))return Ir.get(e);throw new Se(e)}function gt(e){if(An(e))return Y.get(e);throw new me(e)}typeof globalThis!="undefined"?Object.defineProperty(globalThis,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof window!="undefined"?Object.defineProperty(window,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof self!="undefined"?Object.defineProperty(self,j,{value:Y,configurable:!0,writable:!1,enumerable:!1}):typeof global!="undefined"&&Object.defineProperty(global,j,{value:Y,configurable:!0,writable:!1,enumerable:!1});function we(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function En(e){let r=Pe[we(e)];return e.name!==r?{name:e.name}:e.constructor.name!==r?{name:e.constructor.name}:{}}function re(e,r){let t=En(e),n=Object.getOwnPropertyNames(e);for(let a=0,s=n.length,i;a<s;a++)i=n[a],i!=="name"&&i!=="message"&&(i==="stack"?r&4&&(t=t||{},t[i]=e[i]):(t=t||{},t[i]=e[i]));return t}function he(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function ze(e){switch(e){case Number.POSITIVE_INFINITY:return ct;case Number.NEGATIVE_INFINITY:return ft}return e!==e?St:Object.is(e,-0)?lt:c(0,o,e,o,o,o,o,o,o,o,o,o)}function te(e){return c(1,o,y(e),o,o,o,o,o,o,o,o,o)}function _e(e){return c(3,o,""+e,o,o,o,o,o,o,o,o,o)}function Nt(e){return c(4,e,o,o,o,o,o,o,o,o,o,o)}function ke(e,r){let t=r.valueOf();return c(5,e,t!==t?"":r.toISOString(),o,o,o,o,o,o,o,o,o)}function De(e,r){return c(6,e,o,y(r.source),r.flags,o,o,o,o,o,o,o)}function bt(e,r){return c(17,e,Re[r],o,o,o,o,o,o,o,o,o)}function vt(e,r){return c(18,e,y(dt(r)),o,o,o,o,o,o,o,o,o)}function pe(e,r,t){return c(25,e,t,y(r),o,o,o,o,o,o,o,o)}function Fe(e,r,t){return c(9,e,o,o,o,o,o,t,o,o,he(r),o)}function Be(e,r){return c(21,e,o,o,o,o,o,o,r,o,o,o)}function Ve(e,r,t){return c(15,e,o,r.constructor.name,o,o,o,o,t,r.byteOffset,o,r.length)}function Me(e,r,t){return c(16,e,o,r.constructor.name,o,o,o,o,t,r.byteOffset,o,r.byteLength)}function Le(e,r,t){return c(20,e,o,o,o,o,o,o,t,r.byteOffset,o,r.byteLength)}function Ue(e,r,t){return c(13,e,we(r),o,y(r.message),t,o,o,o,o,o,o)}function je(e,r,t){return c(14,e,we(r),o,y(r.message),t,o,o,o,o,o,o)}function Ye(e,r){return c(7,e,o,o,o,o,o,r,o,o,o,o)}function qe(e,r){return c(28,o,o,o,o,o,o,[e,r],o,o,o,o)}function We(e,r){return c(30,o,o,o,o,o,o,[e,r],o,o,o,o)}function Ge(e,r,t){return c(31,e,o,o,o,o,o,t,r,o,o,o)}function Ke(e,r){return c(32,e,o,o,o,o,o,o,r,o,o,o)}function He(e,r){return c(33,e,o,o,o,o,o,o,r,o,o,o)}function Je(e,r){return c(34,e,o,o,o,o,o,o,r,o,o,o)}function Ze(e,r,t,n){return c(35,e,t,o,o,o,o,r,o,o,o,n)}var{toString:Ls}=Object.prototype;var In={parsing:1,serialization:2,deserialization:3};function Rn(e){return`Seroval Error (step: ${In[e]})`}var Pn=(e,r)=>Rn(e),ne=class extends Error{constructor(t,n){super(Pn(t,n));this.cause=n}},z=class extends ne{constructor(r){super("parsing",r)}},$e=class extends ne{constructor(r){super("serialization",r)}},de=class extends ne{constructor(r){super("deserialization",r)}};function _(e){return`Seroval Error (specific: ${e})`}var x=class extends Error{constructor(t){super(_(1));this.value=t}},O=class extends Error{constructor(r){super(_(2))}},q=class extends Error{constructor(r){super(_(3))}},D=class extends Error{constructor(r){super(_(4))}},Se=class extends Error{constructor(t){super(_(5));this.value=t}},me=class extends Error{constructor(r){super(_(6))}},ge=class extends Error{constructor(r){super(_(7))}},w=class extends Error{constructor(r){super(_(8))}},Pr=class extends Error{constructor(r){super(_(9))}},W=class extends Error{constructor(r){super(_(9))}};var L=class{constructor(r,t){this.value=r;this.replacement=t}};var oe=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((r,t)=>{e.s=r,e.f=t}),e},xn=(e,r)=>{e.s(r),e.p.s=1,e.p.v=r},On=(e,r)=>{e.f(r),e.p.s=2,e.p.v=r},Ct=oe.toString(),At=xn.toString(),Et=On.toString(),xr=()=>{let e=[],r=[],t=!0,n=!1,a=0,s=(l,g,S)=>{for(S=0;S<a;S++)r[S]&&r[S][g](l)},i=(l,g,S,d)=>{for(g=0,S=e.length;g<S;g++)d=e[g],!t&&g===S-1?l[n?"return":"throw"](d):l.next(d)},u=(l,g)=>(t&&(g=a++,r[g]=l),i(l),()=>{t&&(r[g]=r[a],r[a--]=void 0)});return{__SEROVAL_STREAM__:!0,on:l=>u(l),next:l=>{t&&(e.push(l),s(l,"next"))},throw:l=>{t&&(e.push(l),s(l,"throw"),t=!1,n=!1,r.length=0)},return:l=>{t&&(e.push(l),s(l,"return"),t=!1,n=!0,r.length=0)}}},It=xr.toString(),Or=e=>r=>()=>{let t=0,n={[e]:()=>n,next:()=>{if(t>r.d)return{done:!0,value:void 0};let a=t++,s=r.v[a];if(a===r.t)throw s;return{done:a===r.d,value:s}}};return n},Rt=Or.toString(),Tr=(e,r)=>t=>()=>{let n=0,a=-1,s=!1,i=[],u=[],l=(S=0,d=u.length)=>{for(;S<d;S++)u[S].s({done:!0,value:void 0})};t.on({next:S=>{let d=u.shift();d&&d.s({done:!1,value:S}),i.push(S)},throw:S=>{let d=u.shift();d&&d.f(S),l(),a=i.length,s=!0,i.push(S)},return:S=>{let d=u.shift();d&&d.s({done:!0,value:S}),l(),a=i.length,i.push(S)}});let g={[e]:()=>g,next:()=>{if(a===-1){let $=n++;if($>=i.length){let nt=r();return u.push(nt),nt.p}return{done:!1,value:i[$]}}if(n>a)return{done:!0,value:void 0};let S=n++,d=i[S];if(S!==a)return{done:!1,value:d};if(s)throw d;return{done:!0,value:d}}};return g},Pt=Tr.toString(),wr=e=>{let r=atob(e),t=r.length,n=new Uint8Array(t);for(let a=0;a<t;a++)n[a]=r.charCodeAt(a);return n.buffer},xt=wr.toString();function Xe(e){return"__SEROVAL_SEQUENCE__"in e}function hr(e,r,t){return{__SEROVAL_SEQUENCE__:!0,v:e,t:r,d:t}}function Qe(e){let r=[],t=-1,n=-1,a=e[C]();for(;;)try{let s=a.next();if(r.push(s.value),s.done){n=r.length-1;break}}catch(s){t=r.length,r.push(s)}return hr(r,t,n)}var Tn=Or(C);function Ot(e){return Tn(e)}var Tt={},wt={};var ht={0:{},1:{},2:{},3:{},4:{},5:{}},zt={0:"[]",1:Ct,2:At,3:Et,4:It,5:xt};function U(e){return"__SEROVAL_STREAM__"in e}function G(){return xr()}function er(e){let r=G(),t=e[v]();async function n(){try{let a=await t.next();a.done?r.return(a.value):(r.next(a.value),await n())}catch(a){r.throw(a)}}return n().catch(()=>{}),r}var wn=Tr(v,oe);function _t(e){return wn(e)}async function zr(e){try{return[1,await e]}catch(r){return[0,r]}}function Ne(e,r){return{plugins:r.plugins,mode:e,marked:new Set,features:63^(r.disabledFeatures||0),refs:r.refs||new Map,depthLimit:r.depthLimit||1e3}}function be(e,r){e.marked.add(r)}function _r(e,r){let t=e.refs.size;return e.refs.set(r,t),t}function rr(e,r){let t=e.refs.get(r);return t!=null?(be(e,t),{type:1,value:Nt(t)}):{type:0,value:_r(e,r)}}function K(e,r){let t=rr(e,r);return t.type===1?t:Rr(r)?{type:2,value:vt(t.value,r)}:t}function I(e,r){let t=K(e,r);if(t.type!==0)return t.value;if(r in Re)return bt(t.value,r);throw new x(r)}function k(e,r){let t=rr(e,ht[r]);return t.type===1?t.value:c(26,t.value,r,o,o,o,o,o,o,o,o,o)}function tr(e){let r=rr(e,Tt);return r.type===1?r.value:c(27,r.value,o,o,o,o,o,o,I(e,C),o,o,o)}function nr(e){let r=rr(e,wt);return r.type===1?r.value:c(29,r.value,o,o,o,o,o,[k(e,1),I(e,v)],o,o,o,o)}function or(e,r,t,n){return c(t?11:10,e,o,o,o,n,o,o,o,o,he(r),o)}function ar(e,r,t,n){return c(8,r,o,o,o,o,{k:t,v:n},o,k(e,0),o,o,o)}function Dt(e,r,t){return c(22,r,t,o,o,o,o,o,k(e,1),o,o,o)}function sr(e,r,t){let n=new Uint8Array(t),a="";for(let s=0,i=n.length;s<i;s++)a+=String.fromCharCode(n[s]);return c(19,r,y(btoa(a)),o,o,o,o,o,k(e,5),o,o,o)}function ae(e,r){return{base:Ne(e,r),child:void 0}}var Dr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return N(this._p,this.depth,r)}};async function zn(e,r,t){let n=[];for(let a=0,s=t.length;a<s;a++)a in t?n[a]=await N(e,r,t[a]):n[a]=0;return n}async function _n(e,r,t,n){return Fe(t,n,await zn(e,r,n))}async function Fr(e,r,t){let n=Object.entries(t),a=[],s=[];for(let i=0,u=n.length;i<u;i++)a.push(y(n[i][0])),s.push(await N(e,r,n[i][1]));return C in t&&(a.push(I(e.base,C)),s.push(qe(tr(e.base),await N(e,r,Qe(t))))),v in t&&(a.push(I(e.base,v)),s.push(We(nr(e.base),await N(e,r,er(t))))),P in t&&(a.push(I(e.base,P)),s.push(te(t[P]))),R in t&&(a.push(I(e.base,R)),s.push(t[R]?Q:ee)),{k:a,v:s}}async function kr(e,r,t,n,a){return or(t,n,a,await Fr(e,r,n))}async function kn(e,r,t,n){return Be(t,await N(e,r,n.valueOf()))}async function Dn(e,r,t,n){return Ve(t,n,await N(e,r,n.buffer))}async function Fn(e,r,t,n){return Me(t,n,await N(e,r,n.buffer))}async function Bn(e,r,t,n){return Le(t,n,await N(e,r,n.buffer))}async function Ft(e,r,t,n){let a=re(n,e.base.features);return Ue(t,n,a?await Fr(e,r,a):o)}async function Vn(e,r,t,n){let a=re(n,e.base.features);return je(t,n,a?await Fr(e,r,a):o)}async function Mn(e,r,t,n){let a=[],s=[];for(let[i,u]of n.entries())a.push(await N(e,r,i)),s.push(await N(e,r,u));return ar(e.base,t,a,s)}async function Ln(e,r,t,n){let a=[];for(let s of n.keys())a.push(await N(e,r,s));return Ye(t,a)}async function Bt(e,r,t,n){let a=e.base.plugins;if(a)for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.async&&u.test(n))return pe(t,u.tag,await u.parse.async(n,new Dr(e,r),{id:t}))}return o}async function Un(e,r,t,n){let[a,s]=await zr(n);return c(12,t,a,o,o,o,o,o,await N(e,r,s),o,o,o)}function jn(e,r,t,n,a){let s=[],i=t.on({next:u=>{be(this.base,r),N(this,e,u).then(l=>{s.push(Ke(r,l))},l=>{a(l),i()})},throw:u=>{be(this.base,r),N(this,e,u).then(l=>{s.push(He(r,l)),n(s),i()},l=>{a(l),i()})},return:u=>{be(this.base,r),N(this,e,u).then(l=>{s.push(Je(r,l)),n(s),i()},l=>{a(l),i()})}})}async function Yn(e,r,t,n){return Ge(t,k(e.base,4),await new Promise(jn.bind(e,r,t,n)))}async function qn(e,r,t,n){let a=[];for(let s=0,i=n.v.length;s<i;s++)a[s]=await N(e,r,n.v[s]);return Ze(t,a,n.t,n.d)}async function Wn(e,r,t,n){if(Array.isArray(n))return _n(e,r,t,n);if(U(n))return Yn(e,r,t,n);if(Xe(n))return qn(e,r,t,n);let a=n.constructor;if(a===L)return N(e,r,n.replacement);let s=await Bt(e,r,t,n);if(s)return s;switch(a){case Object:return kr(e,r,t,n,!1);case o:return kr(e,r,t,n,!0);case Date:return ke(t,n);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return Ft(e,r,t,n);case Number:case Boolean:case String:case BigInt:return kn(e,r,t,n);case ArrayBuffer:return sr(e.base,t,n);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return Dn(e,r,t,n);case DataView:return Bn(e,r,t,n);case Map:return Mn(e,r,t,n);case Set:return Ln(e,r,t,n);default:break}if(a===Promise||n instanceof Promise)return Un(e,r,t,n);let i=e.base.features;if(i&32&&a===RegExp)return De(t,n);if(i&16)switch(a){case BigInt64Array:case BigUint64Array:return Fn(e,r,t,n);default:break}if(i&1&&typeof AggregateError!="undefined"&&(a===AggregateError||n instanceof AggregateError))return Vn(e,r,t,n);if(n instanceof Error)return Ft(e,r,t,n);if(C in n||v in n)return kr(e,r,t,n,!!a);throw new x(n)}async function Gn(e,r,t){let n=K(e.base,t);if(n.type!==0)return n.value;let a=await Bt(e,r,n.value,t);if(a)return a;throw new x(t)}async function N(e,r,t){switch(typeof t){case"boolean":return t?Q:ee;case"undefined":return xe;case"string":return te(t);case"number":return ze(t);case"bigint":return _e(t);case"object":{if(t){let n=K(e.base,t);return n.type===0?await Wn(e,r+1,n.value,t):n.value}return Oe}case"symbol":return I(e.base,t);case"function":return Gn(e,r,t);default:throw new x(t)}}async function se(e,r){try{return await N(e,0,r)}catch(t){throw t instanceof z?t:new z(t)}}var H=(t=>(t[t.Vanilla=1]="Vanilla",t[t.Cross=2]="Cross",t))(H||{});function Kn(e){return e}function Vt(e,r){for(let t=0,n=r.length;t<n;t++){let a=r[t];e.has(a)||(e.add(a),a.extends&&Vt(e,a.extends))}}function A(e){if(e){let r=new Set;return Vt(r,e),[...r]}}function Mt(e){switch(e){case"Int8Array":return Int8Array;case"Int16Array":return Int16Array;case"Int32Array":return Int32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":return Uint16Array;case"Uint32Array":return Uint32Array;case"Uint8ClampedArray":return Uint8ClampedArray;case"Float32Array":return Float32Array;case"Float64Array":return Float64Array;case"BigInt64Array":return BigInt64Array;case"BigUint64Array":return BigUint64Array;default:throw new ge(e)}}var Hn=1e6,Jn=1e4,Zn=2e4;function Ut(e,r){switch(r){case 3:return Object.freeze(e);case 1:return Object.preventExtensions(e);case 2:return Object.seal(e);default:return e}}var $n=1e3;function jt(e,r){var t;return{mode:e,plugins:r.plugins,refs:r.refs||new Map,features:(t=r.features)!=null?t:63^(r.disabledFeatures||0),depthLimit:r.depthLimit||$n}}function Yt(e){return{mode:1,base:jt(1,e),child:o,state:{marked:new Set(e.markedRefs)}}}function qt(e){return{mode:2,base:jt(2,e),child:o}}var Br=class{constructor(r,t){this._p=r;this.depth=t}deserialize(r){return p(this._p,this.depth,r)}};function Wt(e,r){if(r<0||!Number.isFinite(r)||!Number.isInteger(r))throw new w({t:4,i:r});if(e.refs.has(r))throw new Error("Conflicted ref id: "+r)}function Xn(e,r,t){return Wt(e.base,r),e.state.marked.has(r)&&e.base.refs.set(r,t),t}function Qn(e,r,t){return Wt(e.base,r),e.base.refs.set(r,t),t}function b(e,r,t){return e.mode===1?Xn(e,r,t):Qn(e,r,t)}function Vr(e,r,t){if(Object.hasOwn(r,t))return r[t];throw new w(e)}function eo(e,r){return b(e,r.i,gt(M(r.s)))}function ro(e,r,t){let n=t.a,a=n.length,s=b(e,t.i,new Array(a));for(let i=0,u;i<a;i++)u=n[i],u&&(s[i]=p(e,r,u));return Ut(s,t.o),s}function to(e){switch(e){case"constructor":case"__proto__":case"prototype":case"__defineGetter__":case"__defineSetter__":case"__lookupGetter__":case"__lookupSetter__":return!1;default:return!0}}function no(e){switch(e){case v:case R:case P:case C:return!0;default:return!1}}function Lt(e,r,t){to(r)?e[r]=t:Object.defineProperty(e,r,{value:t,configurable:!0,enumerable:!0,writable:!0})}function oo(e,r,t,n,a){if(typeof n=="string")Lt(t,n,p(e,r,a));else{let s=p(e,r,n);switch(typeof s){case"string":Lt(t,s,p(e,r,a));break;case"symbol":no(s)&&(t[s]=p(e,r,a));break;default:throw new w(n)}}}function Gt(e,r,t,n){let a=t.k;if(a.length>0)for(let i=0,u=t.v,l=a.length;i<l;i++)oo(e,r,n,a[i],u[i]);return n}function ao(e,r,t){let n=b(e,t.i,t.t===10?{}:Object.create(null));return Gt(e,r,t.p,n),Ut(n,t.o),n}function so(e,r){return b(e,r.i,new Date(r.s))}function io(e,r){if(e.base.features&32){let t=M(r.c);if(t.length>Zn)throw new w(r);return b(e,r.i,new RegExp(t,r.m))}throw new O(r)}function uo(e,r,t){let n=b(e,t.i,new Set);for(let a=0,s=t.a,i=s.length;a<i;a++)n.add(p(e,r,s[a]));return n}function lo(e,r,t){let n=b(e,t.i,new Map);for(let a=0,s=t.e.k,i=t.e.v,u=s.length;a<u;a++)n.set(p(e,r,s[a]),p(e,r,i[a]));return n}function co(e,r){if(r.s.length>Hn)throw new w(r);return b(e,r.i,wr(M(r.s)))}function fo(e,r,t){var u;let n=Mt(t.c),a=p(e,r,t.f),s=(u=t.b)!=null?u:0;if(s<0||s>a.byteLength)throw new w(t);return b(e,t.i,new n(a,s,t.l))}function So(e,r,t){var i;let n=p(e,r,t.f),a=(i=t.b)!=null?i:0;if(a<0||a>n.byteLength)throw new w(t);return b(e,t.i,new DataView(n,a,t.l))}function Kt(e,r,t,n){if(t.p){let a=Gt(e,r,t.p,{});Object.defineProperties(n,Object.getOwnPropertyDescriptors(a))}return n}function mo(e,r,t){let n=b(e,t.i,new AggregateError([],M(t.m)));return Kt(e,r,t,n)}function po(e,r,t){let n=Vr(t,ut,t.s),a=b(e,t.i,new n(M(t.m)));return Kt(e,r,t,a)}function go(e,r,t){let n=oe(),a=b(e,t.i,n.p),s=p(e,r,t.f);return t.s?n.s(s):n.f(s),a}function yo(e,r,t){return b(e,t.i,Object(p(e,r,t.f)))}function No(e,r,t){let n=e.base.plugins;if(n){let a=M(t.c);for(let s=0,i=n.length;s<i;s++){let u=n[s];if(u.tag===a)return b(e,t.i,u.deserialize(t.s,new Br(e,r),{id:t.i}))}}throw new q(t.c)}function bo(e,r){return b(e,r.i,b(e,r.s,oe()).p)}function vo(e,r,t){let n=e.base.refs.get(t.i);if(n)return n.s(p(e,r,t.a[1])),o;throw new D("Promise")}function Co(e,r,t){let n=e.base.refs.get(t.i);if(n)return n.f(p(e,r,t.a[1])),o;throw new D("Promise")}function Ao(e,r,t){p(e,r,t.a[0]);let n=p(e,r,t.a[1]);return Ot(n)}function Eo(e,r,t){p(e,r,t.a[0]);let n=p(e,r,t.a[1]);return _t(n)}function Io(e,r,t){let n=b(e,t.i,G()),a=t.a,s=a.length;if(s)for(let i=0;i<s;i++)p(e,r,a[i]);return n}function Ro(e,r,t){let n=e.base.refs.get(t.i);if(n&&U(n))return n.next(p(e,r,t.f)),o;throw new D("Stream")}function Po(e,r,t){let n=e.base.refs.get(t.i);if(n&&U(n))return n.throw(p(e,r,t.f)),o;throw new D("Stream")}function xo(e,r,t){let n=e.base.refs.get(t.i);if(n&&U(n))return n.return(p(e,r,t.f)),o;throw new D("Stream")}function Oo(e,r,t){return p(e,r,t.f),o}function To(e,r,t){return p(e,r,t.a[1]),o}function wo(e,r,t){let n=b(e,t.i,hr([],t.s,t.l));for(let a=0,s=t.a.length;a<s;a++)n.v[a]=p(e,r,t.a[a]);return n}function p(e,r,t){if(r>e.base.depthLimit)throw new W(e.base.depthLimit);switch(r+=1,t.t){case 2:return Vr(t,it,t.s);case 0:return Number(t.s);case 1:return M(String(t.s));case 3:if(String(t.s).length>Jn)throw new w(t);return BigInt(t.s);case 4:return e.base.refs.get(t.i);case 18:return eo(e,t);case 9:return ro(e,r,t);case 10:case 11:return ao(e,r,t);case 5:return so(e,t);case 6:return io(e,t);case 7:return uo(e,r,t);case 8:return lo(e,r,t);case 19:return co(e,t);case 16:case 15:return fo(e,r,t);case 20:return So(e,r,t);case 14:return mo(e,r,t);case 13:return po(e,r,t);case 12:return go(e,r,t);case 17:return Vr(t,at,t.s);case 21:return yo(e,r,t);case 25:return No(e,r,t);case 22:return bo(e,t);case 23:return vo(e,r,t);case 24:return Co(e,r,t);case 28:return Ao(e,r,t);case 30:return Eo(e,r,t);case 31:return Io(e,r,t);case 32:return Ro(e,r,t);case 33:return Po(e,r,t);case 34:return xo(e,r,t);case 27:return Oo(e,r,t);case 29:return To(e,r,t);case 35:return wo(e,r,t);default:throw new O(t)}}function ir(e,r){try{return p(e,0,r)}catch(t){throw new de(t)}}var ho=()=>T,zo=ho.toString(),Ht=/=>/.test(zo);function ur(e,r){return Ht?(e.length===1?e[0]:"("+e.join(",")+")")+"=>"+(r.startsWith("{")?"("+r+")":r):"function("+e.join(",")+"){return "+r+"}"}function Jt(e,r){return Ht?(e.length===1?e[0]:"("+e.join(",")+")")+"=>{"+r+"}":"function("+e.join(",")+"){"+r+"}"}var Xt="hjkmoquxzABCDEFGHIJKLNPQRTUVWXYZ$_",Zt=Xt.length,Qt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$_",$t=Qt.length;function Mr(e){let r=e%Zt,t=Xt[r];for(e=(e-r)/Zt;e>0;)r=e%$t,t+=Qt[r],e=(e-r)/$t;return t}var _o=/^[$A-Z_][0-9A-Z_$]*$/i;function Lr(e){let r=e[0];return(r==="$"||r==="_"||r>="A"&&r<="Z"||r>="a"&&r<="z")&&_o.test(e)}function Ce(e){switch(e.t){case 0:return e.s+"="+e.v;case 2:return e.s+".set("+e.k+","+e.v+")";case 1:return e.s+".add("+e.v+")";case 3:return e.s+".delete("+e.k+")"}}function ko(e){let r=[],t=e[0];for(let n=1,a=e.length,s,i=t;n<a;n++)s=e[n],s.t===0&&s.v===i.v?t={t:0,s:s.s,k:o,v:Ce(t)}:s.t===2&&s.s===i.s?t={t:2,s:Ce(t),k:s.k,v:s.v}:s.t===1&&s.s===i.s?t={t:1,s:Ce(t),k:o,v:s.v}:s.t===3&&s.s===i.s?t={t:3,s:Ce(t),k:s.k,v:o}:(r.push(t),t=s),i=s;return r.push(t),r}function sn(e){if(e.length){let r="",t=ko(e);for(let n=0,a=t.length;n<a;n++)r+=Ce(t[n])+",";return r}return o}var Do="Object.create(null)",Fo="new Set",Bo="new Map",Vo="Promise.resolve",Mo="Promise.reject",Lo={3:"Object.freeze",2:"Object.seal",1:"Object.preventExtensions",0:o};function un(e,r){return{mode:e,plugins:r.plugins,features:r.features,marked:new Set(r.markedRefs),stack:[],flags:[],assignments:[]}}function Uo(){return{valid:new Map,vars:[]}}function lr(e){return{mode:1,base:un(1,e),state:Uo(),child:o}}function cr(e){return{mode:2,base:un(2,e),state:e,child:o}}var Ur=class{constructor(r){this._p=r}serialize(r){return f(this._p,r)}};function jo(e,r){let t=e.valid.get(r);t==null&&(t=e.valid.size,e.valid.set(r,t));let n=e.vars[t];return n==null&&(n=Mr(t),e.vars[t]=n),n}function Yo(e){return fe+"["+e+"]"}function m(e,r){return e.mode===1?jo(e.state,r):Yo(r)}function h(e,r){e.marked.add(r)}function jr(e,r){return e.marked.has(r)}function qr(e,r,t){r!==0&&(h(e.base,t),e.base.flags.push({type:r,value:m(e,t)}))}function qo(e){let r="";for(let t=0,n=e.flags,a=n.length;t<a;t++){let s=n[t];r+=Lo[s.type]+"("+s.value+"),"}return r}function ln(e){let r=sn(e.assignments),t=qo(e);return r?t?r+t:r:t}function Wr(e,r,t){e.assignments.push({t:0,s:r,k:o,v:t})}function Wo(e,r,t){e.base.assignments.push({t:1,s:m(e,r),k:o,v:t})}function ve(e,r,t,n){e.base.assignments.push({t:2,s:m(e,r),k:t,v:n})}function en(e,r,t){e.base.assignments.push({t:3,s:m(e,r),k:t,v:o})}function Ae(e,r,t,n){Wr(e.base,m(e,r)+"["+t+"]",n)}function Yr(e,r,t,n){Wr(e.base,m(e,r)+"."+t,n)}function Go(e,r,t,n){Wr(e.base,m(e,r)+".v["+t+"]",n)}function F(e,r){return r.t===4&&e.stack.includes(r.i)}function ie(e,r,t){return e.mode===1&&!jr(e.base,r)?t:m(e,r)+"="+t}function Ko(e){return j+'.get("'+e.s+'")'}function rn(e,r,t,n){return t?F(e.base,t)?(h(e.base,r),Ae(e,r,n,m(e,t.i)),""):f(e,t):""}function Ho(e,r){let t=r.i,n=r.a,a=n.length;if(a>0){e.base.stack.push(t);let s=rn(e,t,n[0],0),i=s==="";for(let u=1,l;u<a;u++)l=rn(e,t,n[u],u),s+=","+l,i=l==="";return e.base.stack.pop(),qr(e,r.o,r.i),"["+s+(i?",]":"]")}return"[]"}function tn(e,r,t,n){if(typeof t=="string"){let a=Number(t),s=a>=0&&a.toString()===t||Lr(t);if(F(e.base,n)){let i=m(e,n.i);return h(e.base,r.i),s&&a!==a?Yr(e,r.i,t,i):Ae(e,r.i,s?t:'"'+t+'"',i),""}return(s?t:'"'+t+'"')+":"+f(e,n)}return"["+f(e,t)+"]:"+f(e,n)}function cn(e,r,t){let n=t.k,a=n.length;if(a>0){let s=t.v;e.base.stack.push(r.i);let i=tn(e,r,n[0],s[0]);for(let u=1,l=i;u<a;u++)l=tn(e,r,n[u],s[u]),i+=(l&&i&&",")+l;return e.base.stack.pop(),"{"+i+"}"}return"{}"}function Jo(e,r){return qr(e,r.o,r.i),cn(e,r,r.p)}function Zo(e,r,t,n){let a=cn(e,r,t);return a!=="{}"?"Object.assign("+n+","+a+")":n}function $o(e,r,t,n,a){let s=e.base,i=f(e,a),u=Number(n),l=u>=0&&u.toString()===n||Lr(n);if(F(s,a))l&&u!==u?Yr(e,r.i,n,i):Ae(e,r.i,l?n:'"'+n+'"',i);else{let g=s.assignments;s.assignments=t,l&&u!==u?Yr(e,r.i,n,i):Ae(e,r.i,l?n:'"'+n+'"',i),s.assignments=g}}function Xo(e,r,t,n,a){if(typeof n=="string")$o(e,r,t,n,a);else{let s=e.base,i=s.stack;s.stack=[];let u=f(e,a);s.stack=i;let l=s.assignments;s.assignments=t,Ae(e,r.i,f(e,n),u),s.assignments=l}}function Qo(e,r,t){let n=t.k,a=n.length;if(a>0){let s=[],i=t.v;e.base.stack.push(r.i);for(let u=0;u<a;u++)Xo(e,r,s,n[u],i[u]);return e.base.stack.pop(),sn(s)}return o}function Gr(e,r,t){if(r.p){let n=e.base;if(n.features&8)t=Zo(e,r,r.p,t);else{h(n,r.i);let a=Qo(e,r,r.p);if(a)return"("+ie(e,r.i,t)+","+a+m(e,r.i)+")"}}return t}function ea(e,r){return qr(e,r.o,r.i),Gr(e,r,Do)}function ra(e){return'new Date("'+e.s+'")'}function ta(e,r){if(e.base.features&32)return"/"+r.c+"/"+r.m;throw new O(r)}function nn(e,r,t){let n=e.base;return F(n,t)?(h(n,r),Wo(e,r,m(e,t.i)),""):f(e,t)}function na(e,r){let t=Fo,n=r.a,a=n.length,s=r.i;if(a>0){e.base.stack.push(s);let i=nn(e,s,n[0]);for(let u=1,l=i;u<a;u++)l=nn(e,s,n[u]),i+=(l&&i&&",")+l;e.base.stack.pop(),i&&(t+="(["+i+"])")}return t}function on(e,r,t,n,a){let s=e.base;if(F(s,t)){let i=m(e,t.i);if(h(s,r),F(s,n)){let l=m(e,n.i);return ve(e,r,i,l),""}if(n.t!==4&&n.i!=null&&jr(s,n.i)){let l="("+f(e,n)+",["+a+","+a+"])";return ve(e,r,i,m(e,n.i)),en(e,r,a),l}let u=s.stack;return s.stack=[],ve(e,r,i,f(e,n)),s.stack=u,""}if(F(s,n)){let i=m(e,n.i);if(h(s,r),t.t!==4&&t.i!=null&&jr(s,t.i)){let l="("+f(e,t)+",["+a+","+a+"])";return ve(e,r,m(e,t.i),i),en(e,r,a),l}let u=s.stack;return s.stack=[],ve(e,r,f(e,t),i),s.stack=u,""}return"["+f(e,t)+","+f(e,n)+"]"}function oa(e,r){let t=Bo,n=r.e.k,a=n.length,s=r.i,i=r.f,u=m(e,i.i),l=e.base;if(a>0){let g=r.e.v;l.stack.push(s);let S=on(e,s,n[0],g[0],u);for(let d=1,$=S;d<a;d++)$=on(e,s,n[d],g[d],u),S+=($&&S&&",")+$;l.stack.pop(),S&&(t+="(["+S+"])")}return i.t===26&&(h(l,i.i),t="("+f(e,i)+","+t+")"),t}function aa(e,r){return J(e,r.f)+'("'+r.s+'")'}function sa(e,r){return"new "+r.c+"("+f(e,r.f)+","+r.b+","+r.l+")"}function ia(e,r){return"new DataView("+f(e,r.f)+","+r.b+","+r.l+")"}function ua(e,r){let t=r.i;e.base.stack.push(t);let n=Gr(e,r,'new AggregateError([],"'+r.m+'")');return e.base.stack.pop(),n}function la(e,r){return Gr(e,r,"new "+Pe[r.s]+'("'+r.m+'")')}function ca(e,r){let t,n=r.f,a=r.i,s=r.s?Vo:Mo,i=e.base;if(F(i,n)){let u=m(e,n.i);t=s+(r.s?"().then("+ur([],u)+")":"().catch("+Jt([],"throw "+u)+")")}else{i.stack.push(a);let u=f(e,n);i.stack.pop(),t=s+"("+u+")"}return t}function fa(e,r){return"Object("+f(e,r.f)+")"}function J(e,r){let t=f(e,r);return r.t===4?t:"("+t+")"}function Sa(e,r){if(e.mode===1)throw new O(r);return"("+ie(e,r.s,J(e,r.f)+"()")+").p"}function ma(e,r){if(e.mode===1)throw new O(r);return J(e,r.a[0])+"("+m(e,r.i)+","+f(e,r.a[1])+")"}function pa(e,r){if(e.mode===1)throw new O(r);return J(e,r.a[0])+"("+m(e,r.i)+","+f(e,r.a[1])+")"}function da(e,r){let t=e.base.plugins;if(t)for(let n=0,a=t.length;n<a;n++){let s=t[n];if(s.tag===r.c)return e.child==null&&(e.child=new Ur(e)),s.serialize(r.s,e.child,{id:r.i})}throw new q(r.c)}function ga(e,r){let t="",n=!1;return r.f.t!==4&&(h(e.base,r.f.i),t="("+f(e,r.f)+",",n=!0),t+=ie(e,r.i,"("+Rt+")("+m(e,r.f.i)+")"),n&&(t+=")"),t}function ya(e,r){return J(e,r.a[0])+"("+f(e,r.a[1])+")"}function Na(e,r){let t=r.a[0],n=r.a[1],a=e.base,s="";t.t!==4&&(h(a,t.i),s+="("+f(e,t)),n.t!==4&&(h(a,n.i),s+=(s?",":"(")+f(e,n)),s&&(s+=",");let i=ie(e,r.i,"("+Pt+")("+m(e,n.i)+","+m(e,t.i)+")");return s?s+i+")":i}function ba(e,r){return J(e,r.a[0])+"("+f(e,r.a[1])+")"}function va(e,r){let t=ie(e,r.i,J(e,r.f)+"()"),n=r.a.length;if(n){let a=f(e,r.a[0]);for(let s=1;s<n;s++)a+=","+f(e,r.a[s]);return"("+t+","+a+","+m(e,r.i)+")"}return t}function Ca(e,r){return m(e,r.i)+".next("+f(e,r.f)+")"}function Aa(e,r){return m(e,r.i)+".throw("+f(e,r.f)+")"}function Ea(e,r){return m(e,r.i)+".return("+f(e,r.f)+")"}function an(e,r,t,n){let a=e.base;return F(a,n)?(h(a,r),Go(e,r,t,m(e,n.i)),""):f(e,n)}function Ia(e,r){let t=r.a,n=t.length,a=r.i;if(n>0){e.base.stack.push(a);let s=an(e,a,0,t[0]);for(let i=1,u=s;i<n;i++)u=an(e,a,i,t[i]),s+=(u&&s&&",")+u;if(e.base.stack.pop(),s)return"{__SEROVAL_SEQUENCE__:!0,v:["+s+"],t:"+r.s+",d:"+r.l+"}"}return"{__SEROVAL_SEQUENCE__:!0,v:[],t:-1,d:0}"}function Ra(e,r){switch(r.t){case 17:return ot[r.s];case 18:return Ko(r);case 9:return Ho(e,r);case 10:return Jo(e,r);case 11:return ea(e,r);case 5:return ra(r);case 6:return ta(e,r);case 7:return na(e,r);case 8:return oa(e,r);case 19:return aa(e,r);case 16:case 15:return sa(e,r);case 20:return ia(e,r);case 14:return ua(e,r);case 13:return la(e,r);case 12:return ca(e,r);case 21:return fa(e,r);case 22:return Sa(e,r);case 25:return da(e,r);case 26:return zt[r.s];case 35:return Ia(e,r);default:throw new O(r)}}function f(e,r){switch(r.t){case 2:return st[r.s];case 0:return""+r.s;case 1:return'"'+r.s+'"';case 3:return r.s+"n";case 4:return m(e,r.i);case 23:return ma(e,r);case 24:return pa(e,r);case 27:return ga(e,r);case 28:return ya(e,r);case 29:return Na(e,r);case 30:return ba(e,r);case 31:return va(e,r);case 32:return Ca(e,r);case 33:return Aa(e,r);case 34:return Ea(e,r);default:return ie(e,r.i,Ra(e,r))}}function fr(e,r){let t=f(e,r);if(r.i!=null&&e.state.vars.length){let n=ln(e.base),a=t;if(n){let s=m(e,r.i);a=t+","+n+s,t.startsWith(s+"=")||(a=s+"="+a),a="("+a+")"}return"("+ur(e.state.vars,a)+")()"}return r.t===10?"("+t+")":t}function Sr(e,r){let t=f(e,r),n=r.i;if(n==null)return t;let a=ln(e.base),s=m(e,n),i=e.state.scopeId,u=i==null?"":fe,l=a?"("+t+","+a+s+")":t;if(u==="")return r.t===10&&!a?"("+l+")":l;let g=i==null?"()":"("+fe+'["'+y(i)+'"])';return"("+ur([u],l)+")"+g}function le(e,r){return{type:1,base:Ne(e,r),child:o}}var Hr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return E(this._p,this.depth,r)}},Jr=class{constructor(r,t){this._p=r;this.depth=t}parse(r){return E(this._p,this.depth,r)}parseWithError(r){return Z(this._p,this.depth,r)}isAlive(){return this._p.state.alive}pushPendingState(){et(this._p)}popPendingState(){Ee(this._p)}onParse(r){ue(this._p,r)}onError(r){Xr(this._p,r)}};function Pa(e){return{alive:!0,pending:0,initial:!0,buffer:[],onParse:e.onParse,onError:e.onError,onDone:e.onDone}}function Zr(e){return{type:2,base:Ne(2,e),state:Pa(e)}}function xa(e,r,t){let n=[];for(let a=0,s=t.length;a<s;a++)a in t?n[a]=E(e,r,t[a]):n[a]=0;return n}function Oa(e,r,t,n){return Fe(t,n,xa(e,r,n))}function $r(e,r,t){let n=Object.entries(t),a=[],s=[];for(let i=0,u=n.length;i<u;i++)a.push(y(n[i][0])),s.push(E(e,r,n[i][1]));return C in t&&(a.push(I(e.base,C)),s.push(qe(tr(e.base),E(e,r,Qe(t))))),v in t&&(a.push(I(e.base,v)),s.push(We(nr(e.base),E(e,r,e.type===1?G():er(t))))),P in t&&(a.push(I(e.base,P)),s.push(te(t[P]))),R in t&&(a.push(I(e.base,R)),s.push(t[R]?Q:ee)),{k:a,v:s}}function Kr(e,r,t,n,a){return or(t,n,a,$r(e,r,n))}function Ta(e,r,t,n){return Be(t,E(e,r,n.valueOf()))}function wa(e,r,t,n){return Ve(t,n,E(e,r,n.buffer))}function ha(e,r,t,n){return Me(t,n,E(e,r,n.buffer))}function za(e,r,t,n){return Le(t,n,E(e,r,n.buffer))}function fn(e,r,t,n){let a=re(n,e.base.features);return Ue(t,n,a?$r(e,r,a):o)}function _a(e,r,t,n){let a=re(n,e.base.features);return je(t,n,a?$r(e,r,a):o)}function ka(e,r,t,n){let a=[],s=[];for(let[i,u]of n.entries())a.push(E(e,r,i)),s.push(E(e,r,u));return ar(e.base,t,a,s)}function Da(e,r,t,n){let a=[];for(let s of n.keys())a.push(E(e,r,s));return Ye(t,a)}function Fa(e,r,t,n){let a=Ge(t,k(e.base,4),[]);return e.type===1||(et(e),n.on({next:s=>{if(e.state.alive){let i=Z(e,r,s);i&&ue(e,Ke(t,i))}},throw:s=>{if(e.state.alive){let i=Z(e,r,s);i&&ue(e,He(t,i))}Ee(e)},return:s=>{if(e.state.alive){let i=Z(e,r,s);i&&ue(e,Je(t,i))}Ee(e)}})),a}function Ba(e,r,t){if(this.state.alive){let n=Z(this,r,t);n&&ue(this,c(23,e,o,o,o,o,o,[k(this.base,2),n],o,o,o,o)),Ee(this)}}function Va(e,r,t){if(this.state.alive){let n=Z(this,r,t);n&&ue(this,c(24,e,o,o,o,o,o,[k(this.base,3),n],o,o,o,o))}Ee(this)}function Ma(e,r,t,n){let a=_r(e.base,{});return e.type===2&&(et(e),n.then(Ba.bind(e,a,r),Va.bind(e,a,r))),Dt(e.base,t,a)}function La(e,r,t,n,a){for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.sync&&u.test(n))return pe(t,u.tag,u.parse.sync(n,new Hr(e,r),{id:t}))}return o}function Ua(e,r,t,n,a){for(let s=0,i=a.length;s<i;s++){let u=a[s];if(u.parse.stream&&u.test(n))return pe(t,u.tag,u.parse.stream(n,new Jr(e,r),{id:t}))}return o}function Sn(e,r,t,n){let a=e.base.plugins;return a?e.type===1?La(e,r,t,n,a):Ua(e,r,t,n,a):o}function ja(e,r,t,n){let a=[];for(let s=0,i=n.v.length;s<i;s++)a[s]=E(e,r,n.v[s]);return Ze(t,a,n.t,n.d)}function Ya(e,r,t,n,a){switch(a){case Object:return Kr(e,r,t,n,!1);case o:return Kr(e,r,t,n,!0);case Date:return ke(t,n);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return fn(e,r,t,n);case Number:case Boolean:case String:case BigInt:return Ta(e,r,t,n);case ArrayBuffer:return sr(e.base,t,n);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return wa(e,r,t,n);case DataView:return za(e,r,t,n);case Map:return ka(e,r,t,n);case Set:return Da(e,r,t,n);default:break}if(a===Promise||n instanceof Promise)return Ma(e,r,t,n);let s=e.base.features;if(s&32&&a===RegExp)return De(t,n);if(s&16)switch(a){case BigInt64Array:case BigUint64Array:return ha(e,r,t,n);default:break}if(s&1&&typeof AggregateError!="undefined"&&(a===AggregateError||n instanceof AggregateError))return _a(e,r,t,n);if(n instanceof Error)return fn(e,r,t,n);if(C in n||v in n)return Kr(e,r,t,n,!!a);throw new x(n)}function qa(e,r,t,n){if(Array.isArray(n))return Oa(e,r,t,n);if(U(n))return Fa(e,r,t,n);if(Xe(n))return ja(e,r,t,n);let a=n.constructor;if(a===L)return E(e,r,n.replacement);let s=Sn(e,r,t,n);return s||Ya(e,r,t,n,a)}function Wa(e,r,t){let n=K(e.base,t);if(n.type!==0)return n.value;let a=Sn(e,r,n.value,t);if(a)return a;throw new x(t)}function E(e,r,t){if(r>=e.base.depthLimit)throw new W(e.base.depthLimit);switch(typeof t){case"boolean":return t?Q:ee;case"undefined":return xe;case"string":return te(t);case"number":return ze(t);case"bigint":return _e(t);case"object":{if(t){let n=K(e.base,t);return n.type===0?qa(e,r+1,n.value,t):n.value}return Oe}case"symbol":return I(e.base,t);case"function":return Wa(e,r,t);default:throw new x(t)}}function ce(e,r){try{return E(e,0,r)}catch(t){throw t instanceof z?t:new z(t)}}function ue(e,r){e.state.initial?e.state.buffer.push(r):Qr(e,r,!1)}function Xr(e,r){if(e.state.onError)e.state.onError(r);else throw r instanceof z?r:new z(r)}function mn(e){e.state.onDone&&e.state.onDone()}function Qr(e,r,t){try{e.state.onParse(r,t)}catch(n){Xr(e,n)}}function et(e){e.state.pending++}function Ee(e){--e.state.pending<=0&&mn(e)}function Z(e,r,t){try{return E(e,r,t)}catch(n){return Xr(e,n),o}}function rt(e,r){let t=Z(e,0,r);t&&(Qr(e,t,!0),e.state.initial=!1,Ga(e,e.state),e.state.pending<=0&&mr(e))}function Ga(e,r){for(let t=0,n=r.buffer.length;t<n;t++)Qr(e,r.buffer[t],!1)}function mr(e){e.state.alive&&(mn(e),e.state.alive=!1)}function Ka(e,r={}){let t=A(r.plugins),n=le(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=ce(n,e),s=cr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return Sr(s,a)}async function Ha(e,r={}){let t=A(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs}),a=await se(n,e),s=cr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked});return Sr(s,a)}function Ja(e,r={}){let t=A(r.plugins),n=le(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return ce(n,e)}async function Za(e,r={}){let t=A(r.plugins),n=ae(2,{plugins:t,disabledFeatures:r.disabledFeatures,refs:r.refs});return await se(n,e)}function tt(e,r){let t=A(r.plugins),n=Zr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse(a,s){let i=cr({plugins:t,features:n.base.features,scopeId:r.scopeId,markedRefs:n.base.marked}),u;try{u=Sr(i,a)}catch(l){r.onError&&r.onError(l);return}r.onSerialize(u,s)},onError:r.onError,onDone:r.onDone});return rt(n,e),mr.bind(null,n)}function $a(e,r){let t=A(r.plugins),n=Zr({plugins:t,refs:r.refs,disabledFeatures:r.disabledFeatures,onParse:r.onParse,onError:r.onError,onDone:r.onDone});return rt(n,e),mr.bind(null,n)}function Xa(e,r){let t=A(r.plugins),n=qt({plugins:t,refs:r.refs,features:r.features,disabledFeatures:r.disabledFeatures});return ir(n,e)}var Ie=class{constructor(r){this.options=r;this.alive=!0;this.flushed=!1;this.done=!1;this.pending=0;this.cleanups=[];this.refs=new Map;this.keys=new Set;this.ids=0;this.plugins=A(r.plugins)}write(r,t){this.alive&&!this.flushed&&(this.pending++,this.keys.add(r),this.cleanups.push(tt(t,{plugins:this.plugins,scopeId:this.options.scopeId,refs:this.refs,disabledFeatures:this.options.disabledFeatures,onError:this.options.onError,onSerialize:(n,a)=>{this.alive&&this.options.onData(a?this.options.globalIdentifier+'["'+y(r)+'"]='+n:n)},onDone:()=>{this.alive&&(this.pending--,this.pending<=0&&this.flushed&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}})))}getNextID(){for(;this.keys.has(""+this.ids);)this.ids++;return""+this.ids}push(r){let t=this.getNextID();return this.write(t,r),t}flush(){this.alive&&(this.flushed=!0,this.pending<=0&&!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0))}close(){if(this.alive){for(let r=0,t=this.cleanups.length;r<t;r++)this.cleanups[r]();!this.done&&this.options.onDone&&(this.options.onDone(),this.done=!0),this.alive=!1}}};function Qa(e,r={}){let t=A(r.plugins),n=le(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=ce(n,e),s=lr({plugins:t,features:n.base.features,markedRefs:n.base.marked});return fr(s,a)}async function es(e,r={}){let t=A(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures}),a=await se(n,e),s=lr({plugins:t,features:n.base.features,markedRefs:n.base.marked});return fr(s,a)}function rs(e){return(0,eval)(e)}function ts(e,r={}){let t=A(r.plugins),n=le(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:ce(n,e),f:n.base.features,m:Array.from(n.base.marked)}}async function ns(e,r={}){let t=A(r.plugins),n=ae(1,{plugins:t,disabledFeatures:r.disabledFeatures});return{t:await se(n,e),f:n.base.features,m:Array.from(n.base.marked)}}function os(e,r={}){let t=A(r.plugins),n=lr({plugins:t,features:e.f,markedRefs:e.m});return fr(n,e.t)}function as(e,r={}){var i;let t=A(r.plugins),n=r.disabledFeatures||0,a=(i=e.f)!=null?i:63,s=Yt({plugins:t,markedRefs:e.m,features:a&~n,disabledFeatures:n});return ir(s,e.t)}
